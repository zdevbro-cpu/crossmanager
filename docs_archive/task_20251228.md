2025-12-28 ?‘ì—… ?•ë¦¬

?„ë£Œ???´ìš©
- Cloud SQL Proxy ?‘ì†/ê¶Œí•œ ?¤ì • ?•ì¸ ë°?TCP ?°ê²° ?„í™˜ ?ŒìŠ¤???„ë£Œ
- Functions ë°°í¬ ?¬ì •ë¹?ë°?/api/test ?•ì¸ ?„ë£Œ
- SWMS ì´ˆê¸°???¤ë¥˜ ?´ê²°: swms_material_types.code NOT NULL, vendors seed ë³´ì™„
- SWMS ?€?œë³´??500 ?´ê²°: dashboard ê´€???Œì´ë¸??ì„±, ì¿¼ë¦¬ ?¤ë¥˜/?¸ì½”??ê¹¨ì§ ?˜ì •
- swms/weighings site_id ?€??ë¶ˆì¼ì¹??˜ì • (text cast)
- SWMS ?˜í”Œ ?°ì´???½ì… ?¤í¬ë¦½íŠ¸ ì¶”ê? ë°??¤í–‰
  - EMS/SMS/SWMS ?˜í”Œ ?°ì´???ì„±
  - SWMS sites/companies ?†ì„ ê²½ìš° ?ë™ ?ì„±
- SMS ?”ì²­ 503 ?´ìŠˆ ?•ì¸ ë°?API ?‘ë‹µ ?•ìƒ??
?„ì¬ ?•ì¸???íƒœ
- SWMS sites API: https://crossmanagern.web.app/api/swms/sites/my ?ì„œ FAC-001 ë°˜í™˜??- ?¤ì œ DB?ëŠ” UUID site_id ê¸°ë°˜?¼ë¡œ ?˜í”Œ ?°ì´?°ê? ?¤ì–´ê°€ ?ˆìŒ
- PMS ë¡œê·¸?????¬í„¸ë¡??˜ëŒ?„ê????„ìƒ ë°œìƒ
- PMS??Firebase ?˜ê²½??crossmanager-482403ë¡??¨ì•„ ?ˆì–´ ?¸ì¦ ?¤íŒ¨ ê°€?¥ì„± ?’ìŒ

ì¶”ê? ì§„í–‰ ?„ìš”
1) PMS ë¡œê·¸??SSO
   - PMS Login: Firebase env mismatch ?˜ì • ?„ìš” (crossmanager-482403 ?¹ì•± ?¤ì •ê°??ìš©)
   - ë¡œì»¬ fallback ë¡œê·¸???ˆìš© ?µì…˜ ì¶”ê???(VITE_ALLOW_LOCAL_LOGIN=true)
   - PMS ?¬ë¹Œ???¬ë°°???„ìš”
2) SWMS ?¬ì´??ID ?•í•©??   - /api/swms/sites/myê°€ DB UUIDë¥?ë°˜í™˜?˜ë„ë¡?ì¶”ê? ë³´ì™„ ë°°í¬ ?„ë£Œ
   - ?¬í™•???„ìš” (UUIDê°€ ë°˜í™˜?˜ë©´ ê·?ê°’ìœ¼ë¡?SWMS API ?¸ì¶œ)
3) Hosting ?¬ë°°??   - PMS ë³€ê²??¬í•­ ë°˜ì˜???„í•´ build_all.ps1 + firebase deploy --only hosting ?„ìš”

ê´€??ë³€ê²??Œì¼
- functions/routes/swms.js
- scripts/seed_sample_data.js
- pms/src/hooks/useAuth.tsx
- pms/src/pages/Login.tsx
- pms/.env.production

ë©”ëª¨
- ?„ì¬ Firebase ?„ë¡œ?íŠ¸/?˜ê²½ë³€?˜ëŠ” Portal/PMS/EMS/SMS/SWMS ëª¨ë‘ crossmanager-482403ë¡??¤ì •?˜ì–´ ?ˆì–´
  ?¤ì œ ë¡œê·¸??SSO ?¬ìš© ??crossmanager-482403???¹ì•± ?¤ì •ê°’ìœ¼ë¡??„í™˜ ?„ìš”.

